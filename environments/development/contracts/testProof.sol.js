// Factory "morphs" into a Pudding class.
// The reasoning is that calling load in each context
// is cumbersome.

(function() {

  var contract_data = {
    abi: [{"constant":false,"inputs":[{"name":"index","type":"uint256"}],"name":"finalize","outputs":[{"name":"confirmed","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"_defender","type":"address"},{"name":"_challenger","type":"address"},{"name":"_deposit","type":"uint256"},{"name":"seed","type":"bytes32"},{"name":"result","type":"bytes32"},{"name":"difficulty","type":"uint256"}],"name":"newChallenge","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"index","type":"uint256"},{"name":"correct","type":"bool"}],"name":"challenge","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"index","type":"uint256"},{"name":"hash","type":"bytes32"}],"name":"respond","outputs":[],"type":"function"}],
    binary: "6060604052610613806100126000396000f3606060405260e060020a600035046305261aea811461003c5780633c0e27b014610111578063e4f80415146101bd578063ff3b7fb014610261575b005b6102e0600435600060006000600060006000508581548110156100025750508080527f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56960088602908101547f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5688201547f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56390920194506003919003116102f457826003016000505491505b82600501600050548360060160005054038110156102f95760609182526020909120906001016100e6565b61003a60043560243560443560643560843560a435600080546001810180835582919082908280158290116103f0576008028160080283600052602060002091820191016103f091905b8082111561049557805473ffffffffffffffffffffffffffffffffffffffff199081168255600182018054909116905560028101859055600381018590556004810185905560058101859055600681018590556007810185905560080161015b565b61003a60043560243560006000600050838154811015610002575050808052600883026000805160206105f38339815191528101547f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56390910191148061025757507f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e564600884020154600160a060020a039081163390911614155b1561049957610002565b61003a60043560243560006000600050838154811015610002575050808052600883026000805160206105f38339815191528101547f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e563909101911415806102d65750805433600160a060020a03908116911614155b156105da57610002565b604080519115158252519081900360200190f35b610002565b7f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56760088602015482141561037b5782547f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e565600887020154600160a060020a0391909116908590600202606082818181858883f1935050505050600193506103e8565b7f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56560088602908101547f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56490910154600160a060020a0316908590600202606082818181858883f150505050505b505050919050565b50505081548110156100025790600052602060002090600802016000509050868160000160006101000a815481600160a060020a0302191690830217905550858160010160006101000a815481600160a060020a03021916908302179055508481600201600050819055508381600301600050819055508281600401600050819055506000816005016000508190555081816006016000508190555050505050505050565b5090565b811561053257600883026000805160206105f38339815191528101547f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5698201547f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56883018054600292019190910490557f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e566909101556105be565b600883026000805160206105f38339815191528101547f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e569820180547f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e568840154600291010490557f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e567909101555b60006000805160206105f3833981519152600885020155505050565b5060089091026000805160206105f3833981519152015556290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56a",
    unlinked_binary: "6060604052610613806100126000396000f3606060405260e060020a600035046305261aea811461003c5780633c0e27b014610111578063e4f80415146101bd578063ff3b7fb014610261575b005b6102e0600435600060006000600060006000508581548110156100025750508080527f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56960088602908101547f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5688201547f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56390920194506003919003116102f457826003016000505491505b82600501600050548360060160005054038110156102f95760609182526020909120906001016100e6565b61003a60043560243560443560643560843560a435600080546001810180835582919082908280158290116103f0576008028160080283600052602060002091820191016103f091905b8082111561049557805473ffffffffffffffffffffffffffffffffffffffff199081168255600182018054909116905560028101859055600381018590556004810185905560058101859055600681018590556007810185905560080161015b565b61003a60043560243560006000600050838154811015610002575050808052600883026000805160206105f38339815191528101547f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56390910191148061025757507f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e564600884020154600160a060020a039081163390911614155b1561049957610002565b61003a60043560243560006000600050838154811015610002575050808052600883026000805160206105f38339815191528101547f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e563909101911415806102d65750805433600160a060020a03908116911614155b156105da57610002565b604080519115158252519081900360200190f35b610002565b7f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56760088602015482141561037b5782547f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e565600887020154600160a060020a0391909116908590600202606082818181858883f1935050505050600193506103e8565b7f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56560088602908101547f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56490910154600160a060020a0316908590600202606082818181858883f150505050505b505050919050565b50505081548110156100025790600052602060002090600802016000509050868160000160006101000a815481600160a060020a0302191690830217905550858160010160006101000a815481600160a060020a03021916908302179055508481600201600050819055508381600301600050819055508281600401600050819055506000816005016000508190555081816006016000508190555050505050505050565b5090565b811561053257600883026000805160206105f38339815191528101547f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5698201547f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56883018054600292019190910490557f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e566909101556105be565b600883026000805160206105f38339815191528101547f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e569820180547f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e568840154600291010490557f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e567909101555b60006000805160206105f3833981519152600885020155505050565b5060089091026000805160206105f3833981519152015556290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56a",
    address: "0x654df40690b9a7e005a8909837144d164d36e4d1",
    generated_with: "2.0.9",
    contract_name: "testProof"
  };

  function Contract() {
    if (Contract.Pudding == null) {
      throw new Error("testProof error: Please call load() first before creating new instance of this contract.");
    }

    Contract.Pudding.apply(this, arguments);
  };

  Contract.load = function(Pudding) {
    Contract.Pudding = Pudding;

    Pudding.whisk(contract_data, Contract);

    // Return itself for backwards compatibility.
    return Contract;
  }

  Contract.new = function() {
    if (Contract.Pudding == null) {
      throw new Error("testProof error: Please call load() first before calling new().");
    }

    return Contract.Pudding.new.apply(Contract, arguments);
  };

  Contract.at = function() {
    if (Contract.Pudding == null) {
      throw new Error("testProof error: Please call load() first before calling at().");
    }

    return Contract.Pudding.at.apply(Contract, arguments);
  };

  Contract.deployed = function() {
    if (Contract.Pudding == null) {
      throw new Error("testProof error: Please call load() first before calling deployed().");
    }

    return Contract.Pudding.deployed.apply(Contract, arguments);
  };

  if (typeof module != "undefined" && typeof module.exports != "undefined") {
    module.exports = Contract;
  } else {
    // There will only be one version of Pudding in the browser,
    // and we can use that.
    window.testProof = Contract;
  }

})();
